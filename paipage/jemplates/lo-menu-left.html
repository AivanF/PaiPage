{% extends "basic.html" %}
{% import "_macros.html" as macros with context %}

{% block meta %}
{{ super() }}
<link rel="stylesheet" href="/static/lo-menu-left.css">
{% endblock %}

{% macro pageli(page, lang, upper=False) -%}
	{% set txt = page.get_text(lang) -%}
	{% if upper -%}
		{% set direction = "left" -%}
	{% else -%}
		{% set direction = "right" -%}
	{%- endif -%}

	{%- if txt -%}
	<li>
		{% if page.pk != current.pk -%}
		<a class="link-white" href="/{{ page.url }}">
		{%- endif -%}
		<span class="glyphicon glyphicon-chevron-{{ direction }}"></span> {{ txt.title }}
		{%- if page.pk != current.pk -%}
		</a>
		{%- endif %}
	</li>
	{%- endif %}
{%- endmacro %}


{% block content %}
{# Admin header #}
{{ macros.adminka() }}

{# Table of content #}
<div class="col-xs-2 menu-left">
	<div class="col-xs-12 text-center menu-left-title">
		<a class="link-white" href="/"><h3>{{ config.site_name }}</h3></a>
	</div>

	<div class="col-xs-12 menu-left-content">
		<ul>
			{# {% if upper -%}
			{{ pageli(upper, lang, True) }}
			{%- endif -%} #}
			{%- for page in sections -%}
			{{ pageli(page, lang) }}
			{%- endfor %}
		</ul>

		{{ macros.lang_list() }}
	</div>
</div>

{# Page data #}
<div class="col-xs-10 page-main">
	{% block page_content %}{% endblock %}
</div>

{{ macros.footer() }}
{% endblock %}